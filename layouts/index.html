{{ define "main" }}
<link rel="stylesheet" href="{{ "css/home.css" | relURL }}">
<style>
.container{max-width:1200px;margin:0 auto;padding:0 20px}
.sec-title{font-size:22px;margin:18px 0}
.grid{display:grid;gap:18px}
@media (min-width:1500px){ .grid.cols{grid-template-columns:repeat(4,1fr)} }
@media (min-width:1100px) and (max-width:1499.98px){ .grid.cols{grid-template-columns:repeat(3,1fr)} }
@media (min-width:700px) and (max-width:1099.98px){ .grid.cols{grid-template-columns:repeat(2,1fr)} }
@media (max-width:699.98px){ .grid.cols{grid-template-columns:1fr} }
.card{background:#fff;border-radius:16px;box-shadow:0 12px 30px rgba(18,25,38,.06);overflow:hidden;display:flex;flex-direction:column}
.thumb{aspect-ratio:16/9;background:#eef2ff}
.thumb img{width:100%;height:100%;object-fit:cover;display:block}
.body{padding:12px 14px 14px}
.title{font-size:16px;margin:0 0 6px}
.meta{color:#9ca3af;font-size:13px;margin-bottom:6px}
.desc{color:#6b7280;font-size:14px;line-height:1.6;min-height:40px}
.hero{position:relative;padding:64px 20px 52px;overflow:hidden;background:
  radial-gradient(900px 360px at 50% -20%,rgba(59,130,246,.28),rgba(59,130,246,0)),
  linear-gradient(180deg,rgba(59,130,246,.08),rgba(59,130,246,0));
}
.hero .inner{max-width:980px;margin:0 auto;text-align:center}
.hero h1{font-size:40px;margin:0 0 8px}
.hero p{color:#4b5563;margin:0 auto 6px}
</style>

<!-- 欢迎横幅（蓝色背景） -->
<section class="hero">
  <div class="inner">
    <h1>{{ with site.Params.hero_title }}{{ . }}{{ else }}歡迎來到 Ray 的網站{{ end }}</h1>
    <p>{{ with site.Params.hero_sub }}{{ . }}{{ else }}學生 · 數碼玩家 · 隨手記一些東西{{ end }}</p>
  </div>
</section>

<!-- 新闻 -->
<section class="container" style="padding-top:20px">
  <h2 class="sec-title">新聞</h2>
  <div class="grid cols" id="news-grid"></div>
  <div style="text-align:center;margin:12px 0 28px">
    <a class="btn ghost" href="/news/">進入新聞頁面</a>
  </div>
</section>

<!-- 文章 -->
<section class="container" style="padding-bottom:24px">
  <h2 class="sec-title">文章</h2>
  <div class="grid cols" id="post-grid">
    {{ range first 12 (where .Site.RegularPages "Type" "in" (slice "posts" "post")) }}
      <a class="card" href="{{ .RelPermalink }}">
        <div class="thumb">{{ with .Params.cover.image }}<img src="{{ . | relURL }}" alt="">{{ end }}</div>
        <div class="body">
          <h3 class="title">{{ .Title }}</h3>
          <div class="meta">{{ .Date.Format "2006-01-02" }}</div>
          <div class="desc">{{ .Summary | plainify | truncate 96 }}</div>
        </div>
      </a>
    {{ end }}
  </div>
  <div style="text-align:center;margin:12px 0">
    <a class="btn ghost" href="/archives/">查看全部文章</a>
  </div>
</section>

<script src="/js/news-home.js"></script>
{{ end }}
